(this.webpackJsonpcardmemories=this.webpackJsonpcardmemories||[]).push([[0],{23:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),i=n.n(c),s=n(25),o=n(2),u=n(4),d=n(6),j=n.n(d),l=n(8),f=n(13),m=n(3),b=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*t),a=e[t];e[t]=e[n],e[n]=a}return e},O="add more cards to cardDeck",v="add cards to FullCardDeck",p="add more par cards by increasing amount of par cards",h="flipp clicked card up",w="flip selected cards down because they didnt match",x="flipp all cards up when smashBar is filled",k="Flipp all cards down after 1second",g={cardDeck:[],CompleteDBDeck:[],amountOfParCards:2},C=function(e,t){switch(t.type){case O:return function(e){for(var t=[],n=0;n<e.amountOfParCards;n++)t=[].concat(Object(f.a)(t),[Object(m.a)({},e.CompleteDBDeck[n])]);return Object(m.a)(Object(m.a)({},e),{},{cardDeck:b(t)})}(e);case v:return function(e,t){var n;return Object(m.a)(Object(m.a)({},e),{},{CompleteDBDeck:null!==(n=t.cardsFromDB)&&void 0!==n?n:[]})}(e,t);case p:return function(e){return Object(m.a)(Object(m.a)({},e),{},{amountOfParCards:e.amountOfParCards+2})}(e);case h:return function(e,t){var n=e.cardDeck.map((function(e){var n;return e.id===(null===(n=t.cardSelected)||void 0===n?void 0:n.id)&&(e.flippCard=!0),e}));return Object(m.a)(Object(m.a)({},e),{},{cardDeck:n})}(e,t);case w:return function(e,t){var n=e.cardDeck.map((function(e){var n;return(null===(n=t.selectedCards)||void 0===n?void 0:n.some((function(t){return t.id===e.id})))&&(e.flippCard=!1),e}));return Object(m.a)(Object(m.a)({},e),{},{cardDeck:n})}(e,t);case x:return function(e){var t=e.cardDeck.map((function(e){return e.smashCard=!0,e}));return Object(m.a)(Object(m.a)({},e),{},{cardDeck:t})}(e);case k:return function(e){var t=e.cardDeck.map((function(e){return e.smashCard=!1,e}));return Object(m.a)(Object(m.a)({},e),{},{cardDeck:t})}(e);default:return e}},S=n(9),_=n.n(S),y=function(){var e=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()("/cards");case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(e){var t=e.selectedCards,n=e.dispatch,r=Object(a.useState)({powerProcent:0,ActivatePower:!1,ShowPowerButton:!1}),c=Object(u.a)(r,2),i=c[0],s=c[1];return Object(a.useEffect)((function(){2===t.length&&t[0].value===t[1].value&&s((function(e){return function(e){var t=e.powerProcent+10;return t>=100?Object(m.a)(Object(m.a)({},e),{},{powerProcent:100,ShowPowerButton:!0}):Object(m.a)(Object(m.a)({},e),{},{powerProcent:t})}(e)}))}),[t]),Object(a.useEffect)((function(){i.ActivatePower&&(n({type:x}),setTimeout((function(){n({type:k})}),1e3),s({ActivatePower:!1,ShowPowerButton:!1,powerProcent:0}))}),[i,n,s]),{SmashBarPower:i,setSmashBarPower:s}},P=n(55),D=n(1),I=function(e){var t=e.onCardClick;return Object(D.jsx)("div",{onClick:function(){return t()},className:"cardComponent backCard animate__animated animate__fadeIn",style:{backgroundImage:'url("/img/goldenflower.jpg")'}})},E=function(e){var t=e.cardValue;return Object(D.jsx)("div",{className:"animate__animated animate__fadeIn cardComponent frontCard",children:Object(D.jsxs)("span",{children:[" ",t]})})},N=function(e){var t=e.selectedCardsState,n=e.cardInfo,a=e.dispatch,r=Object(u.a)(t,2),c=r[0],i=r[1];return n.flippCard||n.smashCard?Object(D.jsx)(E,{cardValue:n.value}):Object(D.jsx)(I,{onCardClick:function(){c.length<2&&(a({type:h,cardSelected:n}),i((function(e){return[].concat(Object(f.a)(e),[n])})))}})},T=function(e){var t=e.cardsHook,n=e.selectCardHook,r=Object(u.a)(t,2),c=r[0],i=r[1],s=Object(u.a)(n,2),o=s[0],d=s[1],j=function(e){var t=e.cardDeck,n=Object(a.useState)({row:"60vh",column:"18vw 18vw"}),r=Object(u.a)(n,2),c=r[0],i=r[1];return Object(a.useEffect)((function(){switch(t.length){case 4:i({row:"60vh",column:"18vw 18vw 18vw 18vw"});break;case 6:i({row:"56vh",column:"15vw 15vw 15vw 15vw 15vw 15vw"});break;case 8:i({row:"37vh 37vh",column:"15vw 15vw 15vw 15vw"});break;case 10:i({row:"37vh 37vh",column:"15vw 15vw 15vw 15vw 15vw"});break;case 12:i({row:"37vh 37vh",column:"15vw 15vw 15vw 15vw 15vw 15vw"})}}),[t]),{rowColumn:c}}({cardDeck:c}).rowColumn;return Object(D.jsx)("div",{id:"gameMain-grid",style:{gridTemplateColumns:j.column,gridTemplateRows:j.row},children:c.map((function(e){return Object(D.jsx)(N,{selectedCardsState:[o,d],cardInfo:e,dispatch:i},e.id)}))})},G=(n(23),function(e){var t=e.userInfoState,n=Object(u.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(""),o=Object(u.a)(s,2),d=o[0],j=o[1];return Object(c.createPortal)(Object(D.jsx)("div",{id:"EndGameInput",children:Object(D.jsxs)("div",{id:"endGameBox",children:[Object(D.jsx)("span",{id:"endGameTitle",children:"Submit Score"}),Object(D.jsx)("input",{type:"text",placeholder:"Insert Name",style:{border:"3px solid ".concat(d)},onChange:function(e){j("black"),i((function(t){return Object(m.a)(Object(m.a)({},t),{},{name:e.target.value})}))}}),Object(D.jsxs)("div",{id:"endGameButtonsBox",children:[Object(D.jsx)("span",{onClick:function(){r.name?(_.a.post("/ranking",{name:r.name,score:r.score,date:r.date,time:r.time}),window.location.reload()):j("red")},children:"Submit"}),Object(D.jsx)("span",{onClick:function(){return window.location.reload()},children:"Exit"})]})]})}),document.body)}),F=function(e){var t=e.powerProcent;return Object(D.jsx)("div",{id:"SmashBar",className:"animate__animated animate__fadeIn",children:Object(D.jsx)("div",{id:"SmashBarPoints",style:{width:"".concat(t,"%")},children:Object(D.jsx)("img",{src:"https://media.giphy.com/media/cl8m95jRTEDZdGHMtc/giphy.gif",alt:"animated loading bar gif"})})})},R=function(e){var t=e.setSmashBarPower;return Object(D.jsx)("div",{id:"SmashButton",className:"animate__animated animate__zoomIn",onClick:function(){return t((function(e){return Object(m.a)(Object(m.a)({},e),{},{ActivatePower:!0})}))},children:"Smash"})},A=function(e){var t=e.smashBarState,n=Object(u.a)(t,2),a=n[0],r=n[1];return Object(D.jsxs)("div",{id:"SmashBarBox",children:[Object(D.jsx)(F,{powerProcent:a.powerProcent}),a.ShowPowerButton?Object(D.jsx)(R,{setSmashBarPower:r}):""]})},M=function(e){var t=e.Timer;return Object(D.jsx)("div",{id:"timer",className:"animate__animated animate__slideInDown",children:t})},H=function(){var e=function(){var e=Object(a.useReducer)(C,g),t=Object(u.a)(e,2),n=t[0].cardDeck,r=t[1],c=Object(a.useState)(),i=Object(u.a)(c,2),s=i[0],o=i[1];return Object(a.useEffect)((function(){!function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y();case 3:if(t=e.sent){e.next=6;break}throw new Error("cardsArray is undefined");case 6:r({type:v,cardsFromDB:t}),r({type:O}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),o(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()}),[r]),Object(a.useEffect)((function(){var e=n.length>1,t=n.length<10,a=n.every((function(e){return e.flippCard})),c=n.every((function(e){return!e.smashCard}));a&&e&&t&&c&&setTimeout((function(){r({type:p}),r({type:O})}),1050)}),[n,r]),{cardDeck:n,dispatch:r,error:s}}(),t=e.cardDeck,n=e.dispatch,r=function(e){var t=e.dispatch,n=Object(a.useState)([]),r=Object(u.a)(n,2),c=r[0],i=r[1];return Object(a.useEffect)((function(){var e=function(e){setTimeout((function(){return i([])}),e)};2===c.length&&(c[0].value===c[1].value?e(550):c[0].value!==c[1].value&&(e(1e3),setTimeout((function(){t({type:w,selectedCards:c})}),950)))}),[c,t]),{selectedCards:c,setSelectedCards:i}}({dispatch:n}),c=r.selectedCards,i=r.setSelectedCards,s=B({selectedCards:c,dispatch:n}),o=s.SmashBarPower,d=s.setSmashBarPower,f=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(500),s=Object(u.a)(i,2),o=s[0],d=s[1];return Object(a.useEffect)((function(){r||o>0&&setTimeout((function(){return d(o-1)}),1e3);var t=10===e.length,n=e.every((function(e){return e.flippCard}));(t&&n||0===o)&&c(!0)}),[o,e,r]),{timer:o,endGame:r}}(t),b=f.timer,h=f.endGame,x=function(e){var t=e.selectedCards,n=e.timer,r=Object(a.useState)({score:0,name:"",date:Object(P.a)(new Date,"yyyy-MM-dd"),time:0}),c=Object(u.a)(r,2),i=c[0],s=c[1];return Object(a.useEffect)((function(){s((function(e){return Object(m.a)(Object(m.a)({},e),{},{time:n})}))}),[n]),Object(a.useEffect)((function(){2===t.length&&t[0].value===t[1].value&&s((function(e){return Object(m.a)(Object(m.a)({},e),{},{score:e.score+1})}))}),[t]),{userInfo:i,setUserInfo:s}}({selectedCards:c,timer:b}),k=x.userInfo,S=x.setUserInfo;return Object(D.jsxs)("div",{id:"mainGameContainer",children:[Object(D.jsx)(M,{Timer:b}),Object(D.jsx)(T,{cardsHook:[t,n],selectCardHook:[c,i]}),Object(D.jsx)(A,{smashBarState:[o,d]}),h?Object(D.jsx)(G,{userInfoState:[k,S]}):""]})},L=function(e){var t=e.setStartGame;return Object(D.jsx)("div",{id:"startButton",className:"animate__animated animate__fadeIn",onClick:function(){return t(!0)},children:Object(D.jsxs)("span",{children:["Start",Object(D.jsx)("br",{}),"Game"]})})},J=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1];return n?Object(D.jsx)(H,{}):Object(D.jsx)(L,{setStartGame:r})},U=function(){return Object(D.jsx)("div",{id:"homePage",children:Object(D.jsx)(J,{})})},V=function(){var e=Object(o.g)();return Object(D.jsxs)("div",{id:"menu",children:[Object(D.jsx)("div",{onClick:function(){e("/"),window.location.reload()},className:"menuButtons animate__animated animate__fadeIn",children:"Start New Game"}),Object(D.jsxs)("div",{onClick:function(){return e("/ranking")},className:"menuButtons animate__animated animate__fadeIn",children:["Ranking"," "]})]})},z=function(){var e=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()("/ranking");case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(e){var t=e.playerInfo,n=e.ranking,r=Object(a.useState)(""),c=Object(u.a)(r,2),i=c[0],s=c[1];return Object(a.useEffect)((function(){switch(n){case 0:s("gold");break;case 1:s("grey");break;case 2:s("brown")}}),[n]),Object(D.jsxs)("div",{className:"player-FlexBox animate__animated animate__fadeIn",children:[Object(D.jsxs)("div",{className:"playerNameAndDate playerBoxConfig",children:[Object(D.jsx)("span",{style:{color:i},children:t.name}),Object(D.jsx)("span",{children:t.date})]}),Object(D.jsxs)("div",{className:"playerScore playerBoxConfig",children:[Object(D.jsxs)("span",{children:["Time: ",t.time]}),Object(D.jsxs)("span",{children:["Score: ",t.score]})]})]})},q=function(){var e=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),i=Object(u.a)(c,2),s=i[0],o=i[1];return Object(a.useEffect)((function(){!function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z();case 3:if(void 0!==(t=e.sent)){e.next=6;break}throw new Error("could not find RankingArray");case 6:r(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]),{rankingList:n,error:s}}().rankingList;return Object(D.jsxs)("div",{id:"RankingList-grid",className:"animate__animated animate__fadeIn",children:[Object(D.jsx)("div",{id:"RankingTitle",className:"animate__animated animate__fadeIn",children:"Ranking"}),e.map((function(e,t){return t<5?Object(D.jsx)(Z,{playerInfo:e,ranking:t},t):""}))]})},K=function(){return Object(D.jsx)("div",{id:"RankingPage",className:"animate__animated animate__fadeIn",style:{backgroundImage:"url(img/golden-rose.png)"},children:Object(D.jsx)(q,{})})};n(52);var Q=function(){return Object(D.jsxs)(s.a,{children:[Object(D.jsx)(V,{}),Object(D.jsxs)(o.c,{children:[Object(D.jsx)(o.a,{path:"/",element:Object(D.jsx)(U,{})}),Object(D.jsx)(o.a,{path:"ranking",element:Object(D.jsx)(K,{})})]})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(D.jsx)(r.a.StrictMode,{children:Object(D.jsx)(Q,{})}),document.getElementById("root")),W()}},[[53,1,2]]]);
//# sourceMappingURL=main.d34f5ab7.chunk.js.map