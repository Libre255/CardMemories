(this.webpackJsonpcardmemories=this.webpackJsonpcardmemories||[]).push([[0],{23:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),i=n.n(c),s=n(25),o=n(2),u=n(4),d=n(6),j=n.n(d),l=n(8),m=n(13),f=n(3),b="add more cards to cardDeck",O="add cards to FullCardDeck",v="add more par cards by increasing amount of par cards",p="flipp clicked card up",h="flip selected cards down because they didnt match",w="flipp all cards up when smashBar is filled",x="Flipp all cards down after 1second",k={cardDeck:[],CompleteDBDeck:[],amountOfParCards:2},g=function(e,t){switch(t.type){case b:return function(e){for(var t=[],n=0;n<e.amountOfParCards;n++)t=[].concat(Object(m.a)(t),[Object(f.a)({},e.CompleteDBDeck[n])]);return Object(f.a)(Object(f.a)({},e),{},{cardDeck:t})}(e);case O:return function(e,t){var n;return Object(f.a)(Object(f.a)({},e),{},{CompleteDBDeck:null!==(n=t.cardsFromDB)&&void 0!==n?n:[]})}(e,t);case v:return function(e){return Object(f.a)(Object(f.a)({},e),{},{amountOfParCards:e.amountOfParCards+2})}(e);case p:return function(e,t){var n=e.cardDeck.map((function(e){var n;return e.id===(null===(n=t.cardSelected)||void 0===n?void 0:n.id)&&(e.flippCard=!0),e}));return Object(f.a)(Object(f.a)({},e),{},{cardDeck:n})}(e,t);case h:return function(e,t){var n=e.cardDeck.map((function(e){var n;return(null===(n=t.selectedCards)||void 0===n?void 0:n.some((function(t){return t.id===e.id})))&&(e.flippCard=!1),e}));return Object(f.a)(Object(f.a)({},e),{},{cardDeck:n})}(e,t);case w:return function(e){var t=e.cardDeck.map((function(e){return e.smashCard=!0,e}));return Object(f.a)(Object(f.a)({},e),{},{cardDeck:t})}(e);case x:return function(e){var t=e.cardDeck.map((function(e){return e.smashCard=!1,e}));return Object(f.a)(Object(f.a)({},e),{},{cardDeck:t})}(e);default:return e}},C=n(9),S=n.n(C),_=function(){var e=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S()("/cards");case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){var t=e.selectedCards,n=e.dispatch,r=Object(a.useState)({powerProcent:0,ActivatePower:!1,ShowPowerButton:!1}),c=Object(u.a)(r,2),i=c[0],s=c[1];return Object(a.useEffect)((function(){2===t.length&&t[0].value===t[1].value&&s((function(e){return function(e){var t=e.powerProcent+10;return t>=100?Object(f.a)(Object(f.a)({},e),{},{powerProcent:100,ShowPowerButton:!0}):Object(f.a)(Object(f.a)({},e),{},{powerProcent:t})}(e)}))}),[t]),Object(a.useEffect)((function(){i.ActivatePower&&(n({type:w}),setTimeout((function(){n({type:x})}),1e3),s({ActivatePower:!1,ShowPowerButton:!1,powerProcent:0}))}),[i,n,s]),{SmashBarPower:i,setSmashBarPower:s}},B=n(55),P=n(1),D=function(e){var t=e.onCardClick;return Object(P.jsx)("div",{onClick:function(){return t()},className:"cardComponent backCard animate__animated animate__fadeIn",style:{backgroundImage:'url("/img/goldenflower.jpg")'}})},I=function(e){var t=e.cardValue;return Object(P.jsx)("div",{className:"animate__animated animate__fadeIn cardComponent frontCard",children:Object(P.jsxs)("span",{children:[" ",t]})})},E=function(e){var t=e.selectedCardsState,n=e.cardInfo,a=e.dispatch,r=Object(u.a)(t,2),c=r[0],i=r[1];return n.flippCard||n.smashCard?Object(P.jsx)(I,{cardValue:n.value}):Object(P.jsx)(D,{onCardClick:function(){c.length<2&&(a({type:p,cardSelected:n}),i((function(e){return[].concat(Object(m.a)(e),[n])})))}})},N=function(e){var t=e.cardsHook,n=e.selectCardHook,r=Object(u.a)(t,2),c=r[0],i=r[1],s=Object(u.a)(n,2),o=s[0],d=s[1],j=function(e){var t=e.cardDeck,n=Object(a.useState)({row:"60vh",column:"18vw 18vw"}),r=Object(u.a)(n,2),c=r[0],i=r[1];return Object(a.useEffect)((function(){switch(t.length){case 4:i({row:"60vh",column:"18vw 18vw 18vw 18vw"});break;case 6:i({row:"56vh",column:"15vw 15vw 15vw 15vw 15vw 15vw"});break;case 8:i({row:"37vh 37vh",column:"15vw 15vw 15vw 15vw"});break;case 10:i({row:"37vh 37vh",column:"15vw 15vw 15vw 15vw 15vw"});break;case 12:i({row:"37vh 37vh",column:"15vw 15vw 15vw 15vw 15vw 15vw"})}}),[t]),{rowColumn:c}}({cardDeck:c}).rowColumn;return Object(P.jsx)("div",{id:"gameMain-grid",style:{gridTemplateColumns:j.column,gridTemplateRows:j.row},children:c.map((function(e){return Object(P.jsx)(E,{selectedCardsState:[o,d],cardInfo:e,dispatch:i},e.id)}))})},T=(n(23),function(e){var t=e.userInfoState,n=Object(u.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(""),o=Object(u.a)(s,2),d=o[0],j=o[1];return Object(c.createPortal)(Object(P.jsx)("div",{id:"EndGameInput",children:Object(P.jsxs)("div",{id:"endGameBox",children:[Object(P.jsx)("span",{id:"endGameTitle",children:"Submit Score"}),Object(P.jsx)("input",{type:"text",placeholder:"Insert Name",style:{border:"3px solid ".concat(d)},onChange:function(e){j("black"),i((function(t){return Object(f.a)(Object(f.a)({},t),{},{name:e.target.value})}))}}),Object(P.jsxs)("div",{id:"endGameButtonsBox",children:[Object(P.jsx)("span",{onClick:function(){r.name?(S.a.post("/ranking",{name:r.name,score:r.score,date:r.date,time:r.time}),window.location.reload()):j("red")},children:"Submit"}),Object(P.jsx)("span",{onClick:function(){return window.location.reload()},children:"Exit"})]})]})}),document.body)}),G=function(e){var t=e.powerProcent;return Object(P.jsx)("div",{id:"SmashBar",className:"animate__animated animate__fadeIn",children:Object(P.jsx)("div",{id:"SmashBarPoints",style:{width:"".concat(t,"%")},children:Object(P.jsx)("img",{src:"https://media.giphy.com/media/cl8m95jRTEDZdGHMtc/giphy.gif",alt:"animated loading bar gif"})})})},F=function(e){var t=e.setSmashBarPower;return Object(P.jsx)("div",{id:"SmashButton",className:"animate__animated animate__zoomIn",onClick:function(){return t((function(e){return Object(f.a)(Object(f.a)({},e),{},{ActivatePower:!0})}))},children:"Smash"})},R=function(e){var t=e.smashBarState,n=Object(u.a)(t,2),a=n[0],r=n[1];return Object(P.jsxs)("div",{id:"SmashBarBox",children:[Object(P.jsx)(G,{powerProcent:a.powerProcent}),a.ShowPowerButton?Object(P.jsx)(F,{setSmashBarPower:r}):""]})},A=function(e){var t=e.Timer;return Object(P.jsx)("div",{id:"timer",className:"animate__animated animate__slideInDown",children:t})},H=function(){var e=function(){var e=Object(a.useReducer)(g,k),t=Object(u.a)(e,2),n=t[0].cardDeck,r=t[1],c=Object(a.useState)(),i=Object(u.a)(c,2),s=i[0],o=i[1];return Object(a.useEffect)((function(){!function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:if(t=e.sent){e.next=6;break}throw new Error("cardsArray is undefined");case 6:r({type:O,cardsFromDB:t}),r({type:b}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),o(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()}),[r]),Object(a.useEffect)((function(){var e=n.length>1,t=n.length<10,a=n.every((function(e){return e.flippCard})),c=n.every((function(e){return!e.smashCard}));a&&e&&t&&c&&setTimeout((function(){r({type:v}),r({type:b})}),1050)}),[n,r]),{cardDeck:n,dispatch:r,error:s}}(),t=e.cardDeck,n=e.dispatch,r=function(e){var t=e.dispatch,n=Object(a.useState)([]),r=Object(u.a)(n,2),c=r[0],i=r[1];return Object(a.useEffect)((function(){var e=function(e){setTimeout((function(){return i([])}),e)};2===c.length&&(c[0].value===c[1].value?e(550):c[0].value!==c[1].value&&(e(1e3),setTimeout((function(){t({type:h,selectedCards:c})}),950)))}),[c,t]),{selectedCards:c,setSelectedCards:i}}({dispatch:n}),c=r.selectedCards,i=r.setSelectedCards,s=y({selectedCards:c,dispatch:n}),o=s.SmashBarPower,d=s.setSmashBarPower,m=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(500),s=Object(u.a)(i,2),o=s[0],d=s[1];return Object(a.useEffect)((function(){r||o>0&&setTimeout((function(){return d(o-1)}),1e3);var t=10===e.length,n=e.every((function(e){return e.flippCard}));(t&&n||0===o)&&c(!0)}),[o,e,r]),{timer:o,endGame:r}}(t),p=m.timer,w=m.endGame,x=function(e){var t=e.selectedCards,n=e.timer,r=Object(a.useState)({score:0,name:"",date:Object(B.a)(new Date,"yyyy-MM-dd"),time:0}),c=Object(u.a)(r,2),i=c[0],s=c[1];return Object(a.useEffect)((function(){s((function(e){return Object(f.a)(Object(f.a)({},e),{},{time:n})}))}),[n]),Object(a.useEffect)((function(){2===t.length&&t[0].value===t[1].value&&s((function(e){return Object(f.a)(Object(f.a)({},e),{},{score:e.score+1})}))}),[t]),{userInfo:i,setUserInfo:s}}({selectedCards:c,timer:p}),C=x.userInfo,S=x.setUserInfo;return Object(P.jsxs)("div",{id:"mainGameContainer",children:[Object(P.jsx)(A,{Timer:p}),Object(P.jsx)(N,{cardsHook:[t,n],selectCardHook:[c,i]}),Object(P.jsx)(R,{smashBarState:[o,d]}),w?Object(P.jsx)(T,{userInfoState:[C,S]}):""]})},L=function(e){var t=e.setStartGame;return Object(P.jsx)("div",{id:"startButton",className:"animate__animated animate__fadeIn",onClick:function(){return t(!0)},children:Object(P.jsxs)("span",{children:["Start",Object(P.jsx)("br",{}),"Game"]})})},M=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1];return n?Object(P.jsx)(H,{}):Object(P.jsx)(L,{setStartGame:r})},J=function(){return Object(P.jsx)("div",{id:"homePage",children:Object(P.jsx)(M,{})})},U=function(){var e=Object(o.g)();return Object(P.jsxs)("div",{id:"menu",children:[Object(P.jsx)("div",{onClick:function(){e("/"),window.location.reload()},className:"menuButtons animate__animated animate__fadeIn",children:"Start New Game"}),Object(P.jsxs)("div",{onClick:function(){return e("/ranking")},className:"menuButtons animate__animated animate__fadeIn",children:["Ranking"," "]})]})},V=function(){var e=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S()("/ranking");case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(e){var t=e.playerInfo,n=e.ranking,r=Object(a.useState)(""),c=Object(u.a)(r,2),i=c[0],s=c[1];return Object(a.useEffect)((function(){switch(n){case 0:s("gold");break;case 1:s("grey");break;case 2:s("brown")}}),[n]),Object(P.jsxs)("div",{className:"player-FlexBox animate__animated animate__fadeIn",children:[Object(P.jsxs)("div",{className:"playerNameAndDate playerBoxConfig",children:[Object(P.jsx)("span",{style:{color:i},children:t.name}),Object(P.jsx)("span",{children:t.date})]}),Object(P.jsxs)("div",{className:"playerScore playerBoxConfig",children:[Object(P.jsxs)("span",{children:["Time: ",t.time]}),Object(P.jsxs)("span",{children:["Score: ",t.score]})]})]})},Z=function(){var e=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),i=Object(u.a)(c,2),s=i[0],o=i[1];return Object(a.useEffect)((function(){!function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V();case 3:if(void 0!==(t=e.sent)){e.next=6;break}throw new Error("could not find RankingArray");case 6:r(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]),{rankingList:n,error:s}}().rankingList;return Object(P.jsxs)("div",{id:"RankingList-grid",className:"animate__animated animate__fadeIn",children:[Object(P.jsx)("div",{id:"RankingTitle",className:"animate__animated animate__fadeIn",children:"Ranking"}),e.map((function(e,t){return t<5?Object(P.jsx)(z,{playerInfo:e,ranking:t},t):""}))]})},q=function(){return Object(P.jsx)("div",{id:"RankingPage",className:"animate__animated animate__fadeIn",style:{backgroundImage:"url(img/golden-rose.png)"},children:Object(P.jsx)(Z,{})})};n(52);var K=function(){return Object(P.jsxs)(s.a,{children:[Object(P.jsx)(U,{}),Object(P.jsxs)(o.c,{children:[Object(P.jsx)(o.a,{path:"/",element:Object(P.jsx)(J,{})}),Object(P.jsx)(o.a,{path:"ranking",element:Object(P.jsx)(q,{})})]})]})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(K,{})}),document.getElementById("root")),Q()}},[[53,1,2]]]);
//# sourceMappingURL=main.e1a8be8b.chunk.js.map